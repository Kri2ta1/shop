{%extends "shop/base.html"%}
{%block title%} Каталог {%endblock%}
{%block content%}
<div class="container-fluid">
    <h1 class="p-3">Каталог</h1>
    <div class="d-flex gap-2">
        {% for product in shop %}
        <div class="card" style="width: 33rem;">
            <img style="max-height: 300px;" src="{{product.image.url}}" class="card-img-top" alt="...">
            <div class="card-body">
                <h3 class="card-title, text-center">{{product.name}}</h3>
                <p class="card-text, fs-5">{{product.discription}}</p>
                <div class="d-flex">
                <p class="fs-4 text-danger">{{product.price}}</p>
                <p>-{{product.discount}}%</p>
                </div>
                <div style="margin-bottom: 15px;">
                    {%for i in '*****'%}
                    {%if forloop.counter <= product.rating%}
                    <img width="32" height="32" src="https://img.icons8.com/skeuomorphism/32/experimental-star-skeuomorphism.png" alt="experimental-star-skeuomorphism"/>
                    {%else%}
                    <img style="filter: grayscale(1);" width="32" height="32" src="https://img.icons8.com/skeuomorphism/32/experimental-star-skeuomorphism.png" alt="experimental-star-skeuomorphism"/>
                    {%endif%}
                    {%endfor%}
                </div>
                {%if product.is_available%}
                <a href="{%url 'product_detail' product_id=product.id%}" class="btn btn-primary">Подробнее</a>
                {%else%}
                <a href="{%url 'product_detail' product_id=product.id%}" class="btn btn-primary">Не доступно</a>
                {%endif%}
                <p class="pt-2 text-secondary">В наличии: {{product.stock}} товаров</p>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{%endblock%}